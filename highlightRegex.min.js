/*
 * jQuery Highlight Regex Plugin v0.1.2
 *
 * Based on highlight v3 by Johann Burkard
 * http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html
 *
 * (c) 2009-13 Jacob Rothstein
 * MIT license
 */(function(e){var t=function(n){if(!n||!n.childNodes)return;var r=e.makeArray(n.childNodes),i=null;e.each(r,function(e,r){if(r.nodeType===3)if(r.nodeValue==="")n.removeChild(r);else if(i!==null){i.nodeValue+=r.nodeValue;n.removeChild(r)}else i=r;else{i=null;r.childNodes&&t(r)}})};e.fn.highlightRegex=function(n,r){if(typeof n=="object"&&n.constructor.name!=="RegExp"){r=n;n=undefined}typeof r=="undefined"&&(r={});r.className=r.className||"highlight";r.tagType=r.tagType||"span";r.attrs=r.attrs||{};r.palette=r.palette||[];typeof n=="undefined"||n.source===""?e(this).find(r.tagType+"."+r.className).each(function(){e(this).replaceWith(e(this).text());t(e(this).parent().get(0))}):e(this).each(function(){var i=e(this).get(0);t(i);e.each(e.makeArray(i.childNodes),function(i,s){var o,u,a,f,l,c;t(s);if(s.nodeType==3)while(s.data&&(f=s.data.search(n))>=0){exec=n.exec(s.data.slice(f));index=exec.lastIndexOf(exec[0])-1;l=exec[0];if(!(l.length>0))break;o=document.createElement(r.tagType);o.className=r.className;r.palette.length&&(o.className=o.className+" "+r.palette[index%r.palette.length]);e(o).attr(r.attrs);c=s.parentNode;u=s.splitText(f);s=u.splitText(l.length);a=u.cloneNode(!0);o.appendChild(a);c.replaceChild(o,u)}else e(s).highlightRegex(n,r)})});return e(this)}})(jQuery);