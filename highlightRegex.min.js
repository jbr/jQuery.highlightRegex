(function(a){var h=function(c){if(c&&c.childNodes){var g=a.makeArray(c.childNodes),e=null;a.each(g,function(d,b){if(b.nodeType===3)if(b.nodeValue==="")c.removeChild(b);else if(e!==null){e.nodeValue+=b.nodeValue;c.removeChild(b)}else e=b;else{e=null;b.childNodes&&h(b)}})}};a.fn.highlightRegex=function(c){typeof c==="undefined"||c.source===""?a(this).find("span.highlight").each(function(){a(this).replaceWith(a(this).text());h(a(this).parent().get(0))}):a(this).each(function(){var g=a(this).get(0);h(g);
a.each(a.makeArray(g.childNodes),function(e,d){var b,i,f,j,k;h(d);if(d.nodeType==3)for(;d.data&&(j=d.data.search(c))>=0;){f=d.data.slice(j).match(c)[0];if(f.length>0){b=document.createElement("span");b.className="highlight";k=d.parentNode;i=d.splitText(j);d=i.splitText(f.length);f=i.cloneNode(true);b.appendChild(f);k.replaceChild(b,i)}else break}else a(d).highlightRegex(c)})});return a(this)}})(jQuery);
